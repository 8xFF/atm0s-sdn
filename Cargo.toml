[workspace.metadata.workspaces]
independent = true

[workspace]
resolver = "2"
members = [
    "packages/generic_tests",
    "packages/integration_tests",
    "packages/network",
    "packages/core/utils",
    "packages/core/identity",
    "packages/core/multiaddr",
    "packages/core/router",
    "packages/routers/layers_spread_router",
    "packages/services/dht_discovery",
    "packages/services/manual_discovery",
    "packages/services/layers_spread_router_sync",
    "packages/services/key_value",
    "packages/services/tun_tap",
    "packages/services/pub_sub",
    "packages/services/rpc",
    "packages/transports/vnet",
    "packages/transports/tcp",
    "packages/transports/udp",
    "packages/apps/redis",
    "packages/runner",
    "examples",
]

[workspace.dependencies]
atm0s-sdn-identity = { path = "packages/core/identity" }
atm0s-sdn-router = { path = "packages/core/router" }
atm0s-sdn-layers-spread-router = { path = "packages/routers/layers_spread_router" }
atm0s-sdn-multiaddr = { path = "packages/core/multiaddr" }
atm0s-sdn-utils = { package = "atm0s-sdn-utils", path = "packages/core/utils" }
atm0s-sdn = { package = "atm0s-sdn", path = "packages/runner" }
atm0s-sdn-network = { package = "atm0s-sdn-network", path = "packages/network" }
atm0s-sdn-manual-discovery = { package = "atm0s-sdn-manual-discovery", path = "packages/services/manual_discovery" }
atm0s-sdn-dht-discovery = { package = "atm0s-sdn-dht-discovery", path = "packages/services/dht_discovery" }
atm0s-sdn-layers-spread-router-sync = { package = "atm0s-sdn-layers-spread-router-sync", path = "packages/services/layers_spread_router_sync" }
atm0s-sdn-tun-tap = { package = "atm0s-sdn-tun-tap", path = "packages/services/tun_tap" }
atm0s-sdn-key-value = { package = "atm0s-sdn-key-value", path = "packages/services/key_value" }
atm0s-sdn-pub-sub = { package = "atm0s-sdn-pub-sub", path = "packages/services/pub_sub" }
atm0s-sdn-rpc = { package = "atm0s-sdn-rpc", path = "packages/services/rpc" }
atm0s-sdn-transport-vnet = { package = "atm0s-sdn-transport-vnet", path = "packages/transports/vnet" }
atm0s-sdn-transport-tcp = { package = "atm0s-sdn-transport-tcp", path = "packages/transports/tcp" }
atm0s-sdn-transport-udp = { package = "atm0s-sdn-transport-udp", path = "packages/transports/udp" }
atm0s-sdn-redis-server = { package = "atm0s-sdn-redis-server", path = "packages/apps/redis" }
bincode = "1.3.3"
serde = { version = "1.0", features = ["derive"] }
async-trait = "0.1"
async-std = { version = "1.12", features = ["unstable", "attributes"] }
async-notify = "0.2"
thiserror = "1.0"
log = "0.4"
rand = "0.8"
parking_lot = "0.12"
env_logger = "0.10"
allocation-counter = { version = "0.8.1" }
clap = { version = "4.4.10", features = ["derive", "env"] }
mockall = "0.11.4"
# SmallMap is has better performance than HashMap for small maps
small-map = "0.1"